(()=>{function m(o,n,c){let t=document.createElement("input");return t.type=c,t.setAttribute("form",n),t.name=o,t.placeholder=o,t.autocomplete="off",t.required=!0,t.classList.add("text-center"),t}function i(o,n,c){let t=document.createElement("img");return t.src=o,t.alt=n,t.width=c,t}function p(){let o=document.createElement("dialog");o.addEventListener("click",function(e){let s=o.getBoundingClientRect();s.top<=e.clientY&&e.clientY<=s.top+s.height&&s.left<=e.clientX&&e.clientX<=s.left+s.width||(o.close(),o.remove())});let n=document.createElement("button"),c=i("/images/cancel.svg","close",24);n.append(c),n.onclick=()=>{o.close()};let t=document.createElement("div");return t.classList.add("w-full","flex","justify-end"),t.append(n),o.append(t),o.classList.add("absolute","min-w-10","w-fit","p-2","rounded"),o}var x=document.getElementsByClassName("delete-btn");Array.from(x).forEach(o=>{let n=o.parentElement?.parentElement?.parentElement,t=n.firstChild.innerHTML;n.id="row-"+t;let e=p(),s=document.createElement("div");s.classList.add("text-center","grid","gap-y-5","my-2");let d=document.createElement("button");d.setAttribute("hx-delete","/delete"),d.setAttribute("hx-trigger","click"),d.setAttribute("hx-target","#row-"+t),d.setAttribute("hx-swap","outerHTML"),d.setAttribute("hx-vals",`{"id": ${t}}`),htmx.process(d),d.append("Delete"),d.classList.add("p-2","text-center","font-semibold","text-white","bg-red-400","rounded","font-mono","w-fit","mx-auto"),d.onclick=()=>{e.close()},s.append("Are you sure you want to delete this item?",d),e.append(s),o.onclick=()=>{document.body.append(e),e.showModal(),console.log(t)}});function E(){document.getElementById("add-form-inputs")?.remove(),document.getElementById("add-form")?.remove()}var y=document.getElementById("add-form-btn");y.onclick=o=>{if(document.getElementById("add-form")!=null)return;let n=document.createElement("form");n.id="add-form",n.setAttribute("hx-post","/post"),n.setAttribute("hx-target","#add-form-inputs"),n.setAttribute("hx-swap","outerHTML"),n.setAttribute("hx-indicator","#indicator"),n.setAttribute("hx-disabled-elt","#add-form-submit"),n.classList.add("hidden"),document.body.append(n),htmx.process(n);let c=document.getElementById("tbody"),t=document.createElement("tr");t.id="add-form-inputs",t.classList.add("text-center","[&>td]:p-2");let e=new Array(5);for(let r=0;r<e.length;r++)e[r]=document.createElement("td"),r<4&&e[r].classList.add("min-w-56");let s=m("name","add-form","text"),d=m("surname","add-form","text"),g=m("class","add-form","text");document.createElement("div").classList.add("flex","justify-between");let a=document.createElement("button");a.type="submit",a.id="add-form-submit",a.classList.add("hover:bg-gray-200","min-w-5","rounded","p-1","mx-[1px]"),a.setAttribute("form","add-form");let l=document.createElement("button"),f=i("/images/submit.svg","submit",20),b=i("/images/cancel.svg","cancel",20),u=i("/images/spinner.svg","spinner",20);e[0].classList.add("flex","justify-center"),u.id="indicator",u.classList.add("htmx-indicator","animate-spin"),l.classList.add("hover:bg-gray-200","rounded","min-w-5","p-1","mx-[1px]"),l.onclick=E,a.append(f),l.append(b),e[0].append(u),e[1].append(s),e[2].append(d),e[3].append(g),e[4].append(a,l),e[4].classList.add("flex","justify-between","my-1"),t.append(e[0],e[1],e[2],e[3],e[4]),c.prepend(t),s.focus()};var h=new MutationObserver((o,n)=>{let c=document.getElementById("add-form"),t=document.getElementById("add-form-inputs");c&&!t&&c.remove()}),L=document.querySelector("tbody");h.observe(L,{childList:!0});})();
//# sourceMappingURL=script.js.map

(()=>{function u(n,o,a){let t=document.createElement("input");return t.type=a,t.setAttribute("form",o),t.name=n,t.placeholder=n,t.autocomplete="off",t.required=!0,t.classList.add("text-center"),t}function r(n,o,a){let t=document.createElement("img");return t.src=n,t.alt=o,t.width=a,t}function b(){let n=document.createElement("dialog");n.addEventListener("click",function(e){let d=n.getBoundingClientRect();d.top<=e.clientY&&e.clientY<=d.top+d.height&&d.left<=e.clientX&&e.clientX<=d.left+d.width||(n.close(),n.remove())});let o=document.createElement("button"),a=r("/images/cancel.svg","close",24);o.append(a),o.onclick=()=>{n.close()};let t=document.createElement("div");return t.classList.add("w-full","flex","justify-end"),t.append(o),n.append(t),n.classList.add("absolute","min-w-10","w-fit","p-2","rounded"),n}function h(){document.getElementById("add-form-inputs")?.remove(),document.getElementById("add-form")?.remove()}var x=document.getElementById("add-form-btn");x.onclick=n=>{if(document.getElementById("add-form")!=null)return;let o=document.createElement("form");o.id="add-form",o.setAttribute("hx-post","/post"),o.setAttribute("hx-target","#add-form-inputs"),o.setAttribute("hx-swap","outerHTML"),o.setAttribute("hx-indicator","#indicator"),o.setAttribute("hx-disabled-elt","#add-form-submit"),o.classList.add("hidden"),document.body.append(o),htmx.process(o);let a=document.getElementById("tbody"),t=document.createElement("tr");t.id="add-form-inputs",t.classList.add("text-center","[&>td]:p-2","animate-slide-in");let e=new Array(5);for(let l=0;l<e.length;l++)e[l]=document.createElement("td"),l<4&&e[l].classList.add("min-w-56");let d=u("name","add-form","text"),s=u("surname","add-form","text"),c=u("class","add-form","text");document.createElement("div").classList.add("flex","justify-between");let i=document.createElement("button");i.type="submit",i.id="add-form-submit",i.classList.add("hover:bg-gray-200","min-w-5","rounded","p-1","mx-[1px]"),i.setAttribute("form","add-form");let m=document.createElement("button"),g=r("/images/submit.svg","submit",20),E=r("/images/cancel.svg","cancel",20),p=r("/images/spinner.svg","spinner",20);e[0].classList.add("flex","justify-center"),p.id="indicator",p.classList.add("htmx-indicator","animate-spin"),m.classList.add("hover:bg-gray-200","rounded","min-w-5","p-1","mx-[1px]"),m.onclick=h,i.append(g),m.append(E),e[0].append(p),e[1].append(d),e[2].append(s),e[3].append(c),e[4].append(i,m),e[4].classList.add("flex","justify-between","my-1"),t.append(e[0],e[1],e[2],e[3],e[4]),a.prepend(t),d.focus()};function f(n){let t=(n.parentElement?.parentElement?.parentElement).firstChild.innerHTML,e=b(),d=document.createElement("div");d.classList.add("text-center","grid","gap-y-5","my-2");let s=document.createElement("button");s.type="submit",s.setAttribute("hx-post","/delete"),s.setAttribute("hx-target","#row-"+t),s.setAttribute("hx-swap","outerHTML"),s.setAttribute("hx-vals",`{"id": ${t}}`),s.setAttribute("hx-disabled-elt","this"),htmx.process(s),s.append("Delete"),s.classList.add("grid","p-2","text-center","font-semibold","text-white","bg-red-400","rounded","font-mono","w-24","h-10","mx-auto","place-content-center"),s.onclick=()=>{let c=document.createElement("div");c.append(r("/images/spinner-white.svg","spinner",20)),c.id="delete-indicator",c.classList.add("animate-spin"),s.firstChild?.replaceWith(c)},d.append(`Are you sure you want to delete item "${t}"?`,s),e.append(d),e.addEventListener("htmx:afterRequest",()=>{e.close(),e.remove()}),n.onclick=()=>{document.body.append(e),e.showModal()}}var y=document.getElementsByClassName("delete-btn");Array.from(y).forEach(n=>{f(n)});var L=new MutationObserver((n,o)=>{let a=document.getElementById("add-form"),t=document.getElementById("add-form-inputs");a&&!t&&a.remove();let d=n[0].addedNodes.item(0)?.querySelector(".delete-btn");d&&f(d)}),w=document.querySelector("tbody");L.observe(w,{childList:!0});var v=document.querySelectorAll("tr");v.forEach(n=>{n.classList.add("transition-all","duration-500")});})();
//# sourceMappingURL=script.js.map
